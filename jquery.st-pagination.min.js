/* jQuery ST-Pagination v0.0.3
   Generated on 2014-03-26 at 14:54:19 */

!function(a){"use strict";var b=":p",c=function(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];a.on(c,d)}},d={initialize:function(d){return d=d||{},this.each(function(){var e=a(this),f={};f.url=d.url||e.data("url")||"?p="+b,f.type=d.type||e.data("type")||"page",f.start=d.start||parseInt(e.data("start"),10)||1,f.page=f.start+1,d.selectors=d.selectors||{},f.selectors={items:d.selectors.items||".st-items",next:d.selectors.next||".st-next"},f.selectors.item=d.selectors.item||f.selectors.items+" > *","skip"===f.type&&(f.skip=d.skip||parseInt(e.data("skip"),10)||f.start+e.find(f.selectors.items).length),f.selector="#"+e.attr("id"),f.cache={next:null},c(e,d.events),e.addClass("initialized"),e.data("st-pagination",f),e.stPagination("checkNext"),e.on("click.st-pagination",f.selectors.next,function(a){a.preventDefault(),e.is(".loading")||e.is(".complete")||e.stPagination("next")})})},next:function(){return this.each(function(){var b=a(this),c=b.data("st-pagination");b.find(c.selectors.items+":first").append(c.cache.next),c.skip+=c.cache.next.length,c.page++,b.stPagination("checkNext"),b.trigger("next",b)})},checkNext:function(){return this.each(function(){var b=a(this),c=b.data("st-pagination"),d=c[c.type],e=c.url.replace(":p",d),f=e+" "+c.selector+" "+c.selectors.item;b.addClass("loading"),a("<div />").load(f,function(){c.cache.next=a(this).children(),b.removeClass("loading").toggleClass("complete",0===c.cache.next.length),0===c.cache.next.length&&b.trigger("complete",b)})})},destroy:function(){var b=a(this);b.off(".st-pagination"),b.removeData()}};a.fn.stPagination=function(a){return d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:d.initialize.apply(this,arguments)}}(jQuery);